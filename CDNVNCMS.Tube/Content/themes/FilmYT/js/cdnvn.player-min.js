(function($){$.fn.html5Player=function(option){var init="<div class='cdnvn-controls'><div class='cdnvn-controls-inner'><a href='#' class='cdnvn-play-pause' title='Play/Pause'>Play</a><div class='cdnvn-seek-bar'></div><div class='cdnvn-setting'><span class='cdnvn-time'>00:00 / 00:00</span><a href='#' class='cdnvn-mute' title='Mute/Unmute'>mute</a><div class='cdnvn-volume-bar'></div><div class='cdnvn-full-screen-wrapper'><a href='#' class='cdnvn-full-screen cdnvn-full-screen-launch' title='Full Screen'>full</a><a href='#' class='cdnvn-full-screen cdnvn-full-screen-exit' title='Exit Full Screen'>exit full</a></div></div></div></div>";
this.append(init);var videos=this.find("video");var video=videos[0];var playButton=$(".cdnvn-play-pause");var muteButton=$(".cdnvn-mute");var fullScreenButton=$(".cdnvn-full-screen-launch");var fullScreenExit=$(".cdnvn-full-screen-exit");fullScreenExit.hide();var seekBar=$(".cdnvn-seek-bar");var volumeBar=$(".cdnvn-volume-bar");var $time=$(".cdnvn-time");var controlSetting=$(".cdnvn-setting");var controlContainer=$(".cdnvn-controls");var videoLogo=$(".cdnvn-video-logo");controlSetting.hide();seekBar.width(controlContainer.width()-
45-20);controlContainer.find("a").click(function(){return false});videos.css({"cursor":"pointer"});playButton.click(function(){if(video.paused==true){video.play();videoLogo.fadeOut();playButton.addClass("pause-state")}else{video.pause();videoLogo.fadeIn();playButton.removeClass("pause-state")}});videos.click(function(){if(video.paused==true){video.play();videoLogo.fadeOut();playButton.addClass("pause-state")}else{video.pause();videoLogo.fadeIn();playButton.removeClass("pause-state")}});videoLogo.click(function(){if(video.paused==
true){video.play();videoLogo.fadeOut();playButton.addClass("pause-state")}else{video.pause();videoLogo.fadeIn();playButton.removeClass("pause-state")}return false});fullScreenButton.click(function(){$(this).hide();fullScreenExit.show();if(video.requestFullscreen)video.requestFullscreen();else if(video.webkitRequestFullscreen)video.webkitRequestFullscreen();else if(video.mozRequestFullScreen)video.mozRequestFullScreen();else if(video.msRequestFullscreen)video.msRequestFullscreen()});fullScreenExit.click(function(){$(this).hide();
fullScreenButton.show();if(document.exitFullscreen)document.exitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen()});var seeksliding=false;seekBar.slider({orientation:"horizontal",range:"min",min:0,max:100,animate:true,slide:function(){seeksliding=true},stop:function(e,ui){seeksliding=false;var value=ui.value;time=video.duration*(value/100);video.currentTime=time}});videos.bind("timeupdate",function(){var duration=
video.duration;var value=100/duration*video.currentTime;var time=duration*(value/100);if(!seeksliding)seekBar.slider("value",value);var dMin=parseInt(duration/60);var dSec=parseInt(duration%60);if(dMin<10)dMin="0"+dMin;if(dSec<10)dSec="0"+dSec;var duration=dMin+":"+dSec;var min=parseInt(time/60);var sec=parseInt(time%60);if(min<10)min="0"+min;if(sec<10)sec="0"+sec;var current=min+":"+sec;if(min==0&&sec==0)$time.html("<span class='current'>00:00</span><span class='slash'>&nbsp/&nbsp</span><span class='duration'>"+
duration+"</span>");else $time.html("<span class='current'>"+current+"</span><span class='slash'>&nbsp/&nbsp</span><span class='duration'>"+duration+"</span>")});volumeBar.click(function(){var value=$(this).slider("option","value");changeVolume(value)});volumeBar.slider({orientation:"horizontal",range:"min",value:100,min:0,max:100,animate:true,slide:function(){if(video.muted==true)video.muted=false;var value=$(this).slider("option","value");changeVolume(value)}});muteButton.click(function(){if(video.muted==
false){video.muted=true;volumeBar.slider("value",0);muteButton.addClass("mute-state")}else{video.muted=false;var currentVolume=video.volume;volumeBar.slider("value",currentVolume*100);muteButton.removeClass("mute-state")}});$(window).load(function(){controlSetting.show();if($(window).width()<=480)seekBar.css("width","100%");else{var controlWidth=controlContainer.width();var settingWidth=controlSetting.width()+15+20;var seekBarWidth=controlWidth-settingWidth-45-15;seekBar.width(seekBarWidth)}});$(window).resize(function(){controlSetting.show();
if($(window).width()<=480)seekBar.css("width","100%");else{var controlWidth=controlContainer.width();var settingWidth=controlSetting.width()+15+20;var seekBarWidth=controlWidth-settingWidth-45-15;seekBar.width(seekBarWidth)}});function changeVolume(value){video.volume=value/100;if(value<=5){video.volume=0;muteButton.removeClass("volume-medium volume-high");muteButton.addClass("mute-state")}else if(value<=50){muteButton.removeClass("mute-state volume-high");muteButton.addClass("volume-medium")}else if(value<=
100){muteButton.removeClass("mute-state volume-medium");muteButton.addClass("volume-high")}}return this}})(jQuery);